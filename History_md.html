<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>History - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
  var index_rel_prefix = "./";
</script>

<script src="./js/navigation.js" defer></script>
<script src="./js/search.js" defer></script>
<script src="./js/search_index.js" defer></script>
<script src="./js/searcher.js" defer></script>
<script src="./js/darkfish.js" defer></script>

<link href="./css/fonts.css" rel="stylesheet">
<link href="./css/rdoc.css" rel="stylesheet">


<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search (/) for a class, method, ..." spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
<div class="nav-section">
  <h3>Table of Contents</h3>



  <ul class="link-list" role="directory">
              <li>
            <details open>
              <summary>      <a href="#label-Version+3.2.0">Version 3.2.0</a>
</summary>
              <ul class="link-list" role="directory">
                          <li>      <a href="#label-Compatibility">Compatibility</a>
          <li>      <a href="#label-Notable+changes">Notable changes</a>

              </ul>
            </details>
          </li>
          <li>
            <details open>
              <summary>      <a href="#label-Version+3.1.0">Version 3.1.0</a>
</summary>
              <ul class="link-list" role="directory">
                          <li>      <a href="#label-Notable+changes">Notable changes</a>

              </ul>
            </details>
          </li>
          <li>
            <details open>
              <summary>      <a href="#label-Version+3.0.2">Version 3.0.2</a>
</summary>
              <ul class="link-list" role="directory">
                          <li>      <a href="#label-Bug+fixes">Bug fixes</a>

              </ul>
            </details>
          </li>
          <li>
            <details open>
              <summary>      <a href="#label-Version+3.0.1">Version 3.0.1</a>
</summary>
              <ul class="link-list" role="directory">
                          <li>      <a href="#label-Bug+fixes">Bug fixes</a>

              </ul>
            </details>
          </li>
          <li>
            <details open>
              <summary>      <a href="#label-Version+3.0.0">Version 3.0.0</a>
</summary>
              <ul class="link-list" role="directory">
                          <li>      <a href="#label-Compatibility+notes">Compatibility notes</a>
          <li>      <a href="#label-Notable+changes">Notable changes</a>

              </ul>
            </details>
          </li>
          <li>
            <details open>
              <summary>      <a href="#label-Version+2.2.3">Version 2.2.3</a>
</summary>
              <ul class="link-list" role="directory">
                          <li>      <a href="#label-Bug+fixes">Bug fixes</a>

              </ul>
            </details>
          </li>
          <li>      <a href="#label-Version+2.2.2">Version 2.2.2</a>
          <li>
            <details open>
              <summary>      <a href="#label-Version+2.2.1">Version 2.2.1</a>
</summary>
              <ul class="link-list" role="directory">
                          <li>      <a href="#label-Bug+fixes">Bug fixes</a>

              </ul>
            </details>
          </li>
          <li>
            <details open>
              <summary>      <a href="#label-Version+2.2.0">Version 2.2.0</a>
</summary>
              <ul class="link-list" role="directory">
                          <li>      <a href="#label-Compatibility+notes">Compatibility notes</a>
          <li>      <a href="#label-Notable+changes">Notable changes</a>

              </ul>
            </details>
          </li>
          <li>
            <details open>
              <summary>      <a href="#label-Version+2.1.4">Version 2.1.4</a>
</summary>
              <ul class="link-list" role="directory">
                          <li>      <a href="#label-Bug+fixes">Bug fixes</a>

              </ul>
            </details>
          </li>
          <li>
            <details open>
              <summary>      <a href="#label-Version+2.1.3">Version 2.1.3</a>
</summary>
              <ul class="link-list" role="directory">
                          <li>      <a href="#label-Bug+fixes">Bug fixes</a>

              </ul>
            </details>
          </li>
          <li>      <a href="#label-Version+2.1.2">Version 2.1.2</a>
          <li>      <a href="#label-Version+2.1.1">Version 2.1.1</a>
          <li>
            <details open>
              <summary>      <a href="#label-Version+2.1.0">Version 2.1.0</a>
</summary>
              <ul class="link-list" role="directory">
                          <li>      <a href="#label-Notable+changes">Notable changes</a>

              </ul>
            </details>
          </li>
          <li>
            <details open>
              <summary>      <a href="#label-Version+2.0.9">Version 2.0.9</a>
</summary>
              <ul class="link-list" role="directory">
                          <li>      <a href="#label-Security+fixes">Security fixes</a>
          <li>      <a href="#label-Bug+fixes">Bug fixes</a>

              </ul>
            </details>
          </li>
          <li>
            <details open>
              <summary>      <a href="#label-Version+2.0.8">Version 2.0.8</a>
</summary>
              <ul class="link-list" role="directory">
                          <li>      <a href="#label-Bug+fixes">Bug fixes</a>

              </ul>
            </details>
          </li>
          <li>
            <details open>
              <summary>      <a href="#label-Version+2.0.7">Version 2.0.7</a>
</summary>
              <ul class="link-list" role="directory">
                          <li>      <a href="#label-Bug+fixes">Bug fixes</a>

              </ul>
            </details>
          </li>
          <li>
            <details open>
              <summary>      <a href="#label-Version+2.0.6">Version 2.0.6</a>
</summary>
              <ul class="link-list" role="directory">
                          <li>      <a href="#label-Bug+fixes">Bug fixes</a>

              </ul>
            </details>
          </li>
          <li>
            <details open>
              <summary>      <a href="#label-Version+2.0.5">Version 2.0.5</a>
</summary>
              <ul class="link-list" role="directory">
                          <li>      <a href="#label-Bug+fixes">Bug fixes</a>

              </ul>
            </details>
          </li>
          <li>
            <details open>
              <summary>      <a href="#label-Version+2.0.4">Version 2.0.4</a>
</summary>
              <ul class="link-list" role="directory">
                          <li>      <a href="#label-Bug+fixes">Bug fixes</a>

              </ul>
            </details>
          </li>
          <li>
            <details open>
              <summary>      <a href="#label-Version+2.0.3">Version 2.0.3</a>
</summary>
              <ul class="link-list" role="directory">
                          <li>      <a href="#label-Bug+fixes">Bug fixes</a>

              </ul>
            </details>
          </li>
          <li>
            <details open>
              <summary>      <a href="#label-Version+2.0.2">Version 2.0.2</a>
</summary>
              <ul class="link-list" role="directory">
                          <li>      <a href="#label-Bug+fixes">Bug fixes</a>

              </ul>
            </details>
          </li>
          <li>
            <details open>
              <summary>      <a href="#label-Version+2.0.1">Version 2.0.1</a>
</summary>
              <ul class="link-list" role="directory">
                          <li>      <a href="#label-Bug+fixes">Bug fixes</a>

              </ul>
            </details>
          </li>
          <li>
            <details open>
              <summary>      <a href="#label-Version+2.0.0">Version 2.0.0</a>
</summary>
              <ul class="link-list" role="directory">
                          <li>      <a href="#label-Compatibility+notes">Compatibility notes</a>
          <li>      <a href="#label-Supported+platforms">Supported platforms</a>
          <li>      <a href="#label-Notable+changes">Notable changes</a>
          <li>      <a href="#label-Removals">Removals</a>
          <li>      <a href="#label-Deprecations">Deprecations</a>

              </ul>
            </details>
          </li>

  </ul>
</div>


  <div id="project-metadata">
    
<div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
    <li><a href="./CONTRIBUTING_md.html">CONTRIBUTING</a>
    <li><a href="./History_md.html">History</a>
    <li><a href="./README_md.html">README</a>
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page History.md">

<h1 id="label-Version+3.2.0">Version 3.2.0<span><a href="#label-Version+3.2.0">&para;</a> <a href="#top">&uarr;</a></span></h1>

<h2 id="label-Compatibility">Compatibility<span><a href="#label-Compatibility">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p>Ruby &gt;= 2.7</p>
</li><li>
<p>Support for Ruby 2.6 has been removed. Note that Ruby 2.6 reached the end-of-life in 2022-04. <a href="https://github.com/ruby/openssl/pull/639">[GitHub #639]</a></p>
</li><li>
<p><a href="OpenSSL.html"><code>OpenSSL</code></a> &gt;= 1.0.2 or LibreSSL &gt;= 3.1</p>
</li></ul>

<h2 id="label-Notable+changes">Notable changes<span><a href="#label-Notable+changes">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p>Add a stub gemspec for JRuby, which depends on the <code>jruby-openssl</code> gem.  <a href="https://github.com/ruby/openssl/pull/598">[GitHub #598]</a></p>
</li><li>
<p>Add support for the FIPS module in <a href="OpenSSL.html"><code>OpenSSL</code></a> 3.0/3.1.  <a href="https://github.com/ruby/openssl/pull/608">[GitHub #608]</a></p>
</li><li>
<p>Rework <code>OpenSSL::PKey</code> routines for loading DER or PEM encoded keys for better  compatibility with <a href="OpenSSL.html"><code>OpenSSL</code></a> 3.0/3.1 with the FIPS module.  <a href="https://github.com/ruby/openssl/pull/615">[GitHub #615]</a>  <a href="https://github.com/ruby/openssl/pull/669">[GitHub #669]</a></p>
</li><li>
<p>Add <code>OpenSSL::Provider</code> module for loading and unloading <a href="OpenSSL.html"><code>OpenSSL</code></a> 3 providers.  <a href="https://github.com/ruby/openssl/pull/635">[GitHub #635]</a></p>
</li><li>
<p>Add <code>OpenSSL::PKey.new_raw_private_key</code>, <code>.new_raw_public_key</code>,  <code>OpenSSL::PKey::PKey#raw_private_key</code>, and <code>#raw_public_key</code> for public key  algorithms that use “raw private/public key”, such as X25519 and Ed25519.  <a href="https://github.com/ruby/openssl/pull/646">[GitHub #646]</a></p>
</li><li>
<p>Improve <a href="OpenSSL.html"><code>OpenSSL</code></a> error messages to include additional information when  it is available in OpenSSL’s error queue.  <a href="https://github.com/ruby/openssl/pull/648">[GitHub #648]</a></p>
</li><li>
<p>Change <code>OpenSSL::SSL::SSLContext#ca_file=</code> and <code>#ca_path=</code> to raise  <code>OpenSSL::SSL::SSLError</code> instead of printing a warning message.  <a href="https://github.com/ruby/openssl/pull/659">[GitHub #659]</a></p>
</li><li>
<p>Allow <code>OpenSSL::X509::ExtensionFactory#create_extension</code> to take OIDs in the  dotted-decimal notation.  <a href="https://github.com/ruby/openssl/pull/141">[GitHub #141]</a></p>
</li></ul>

<h1 id="label-Version+3.1.0">Version 3.1.0<span><a href="#label-Version+3.1.0">&para;</a> <a href="#top">&uarr;</a></span></h1>

<p>Ruby/OpenSSL 3.1 will be maintained for the lifetime of Ruby 3.2.</p>

<p>Merged bug fixes in 2.2.3 and 3.0.2. Among the new features and changes are:</p>

<h2 id="label-Notable+changes">Notable changes<span><a href="#label-Notable+changes">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p>Add <code>OpenSSL::SSL::SSLContext#ciphersuites=</code> to allow setting TLS 1.3 cipher  suites.  <a href="https://github.com/ruby/openssl/pull/493">[GitHub #493]</a></p>
</li><li>
<p>Add <code>OpenSSL::SSL::SSLSocket#export_keying_material</code> for exporting keying  material of the session, as defined in RFC 5705.  <a href="https://github.com/ruby/openssl/pull/530">[GitHub #530]</a></p>
</li><li>
<p>Add <code>OpenSSL::SSL::SSLContext#keylog_cb=</code> for setting the TLS key logging  callback, which is useful for supporting NSS’s SSLKEYLOGFILE debugging output.  <a href="https://github.com/ruby/openssl/pull/536">[GitHub #536]</a></p>
</li><li>
<p>Remove the default digest algorithm from <code>OpenSSL::OCSP::BasicResponse#sign</code>  and <code>OpenSSL::OCSP::Request#sign</code>. Omitting the 5th parameter of these  methods used to be equivalent of specifying SHA-1. This default value is now  removed and we will let the underlying <a href="OpenSSL.html"><code>OpenSSL</code></a> library decide instead.  <a href="https://github.com/ruby/openssl/pull/507">[GitHub #507]</a></p>
</li><li>
<p>Add <code>OpenSSL::BN#mod_sqrt</code>.  <a href="https://github.com/ruby/openssl/pull/553">[GitHub #553]</a></p>
</li><li>
<p>Allow calling <code>OpenSSL::Cipher#update</code> with an empty string. This was  prohibited to workaround an ancient bug in <a href="OpenSSL.html"><code>OpenSSL</code></a>.  <a href="https://github.com/ruby/openssl/pull/568">[GitHub #568]</a></p>
</li><li>
<p>Fix build on platforms without socket support, such as WASI. <code>OpenSSL::SSL</code>  will not be defined if <a href="OpenSSL.html"><code>OpenSSL</code></a> is compiled with <code>OPENSSL_NO_SOCK</code>.  <a href="https://github.com/ruby/openssl/pull/558">[GitHub #558]</a></p>
</li><li>
<p>Improve support for recent LibreSSL versions. This includes HKDF support in  LibreSSL 3.6 and Ed25519 support in LibreSSL 3.7.</p>
</li></ul>

<h1 id="label-Version+3.0.2">Version 3.0.2<span><a href="#label-Version+3.0.2">&para;</a> <a href="#top">&uarr;</a></span></h1>

<p>Merged changes in 2.2.3. Additionally, the following issues are fixed by this release.</p>

<h2 id="label-Bug+fixes">Bug fixes<span><a href="#label-Bug+fixes">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p>Fix <a href="OpenSSL/PKey/EC.html#method-i-check_key"><code>OpenSSL::PKey::EC#check_key</code></a> not working correctly on <a href="OpenSSL.html"><code>OpenSSL</code></a> 3.0.  <a href="https://github.com/ruby/openssl/issues/563">[GitHub #563]</a>  <a href="https://github.com/ruby/openssl/pull/580">[GitHub #580]</a></p>
</li></ul>

<h1 id="label-Version+3.0.1">Version 3.0.1<span><a href="#label-Version+3.0.1">&para;</a> <a href="#top">&uarr;</a></span></h1>

<p>Merged changes in 2.1.4 and 2.2.2. Additionally, the following issues are fixed by this release.</p>

<h2 id="label-Bug+fixes">Bug fixes<span><a href="#label-Bug+fixes">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p>Add missing type check in <a href="OpenSSL/PKey/PKey.html#method-i-sign"><code>OpenSSL::PKey::PKey#sign</code></a>‘s optional parameters.  <a href="https://github.com/ruby/openssl/pull/531">[GitHub #531]</a></p>
</li><li>
<p>Work around <a href="OpenSSL.html"><code>OpenSSL</code></a> 3.0’s HMAC issues with a zero-length key.  <a href="https://github.com/ruby/openssl/pull/538">[GitHub #538]</a></p>
</li><li>
<p>Fix a regression in <a href="OpenSSL/PKey/DSA.html#method-c-generate"><code>OpenSSL::PKey::DSA.generate</code></a>‘s default of ’q’ size.  <a href="https://github.com/ruby/openssl/issues/483">[GitHub #483]</a>  <a href="https://github.com/ruby/openssl/pull/539">[GitHub #539]</a></p>
</li><li>
<p>Restore <a href="OpenSSL/PKey.html#method-c-read"><code>OpenSSL::PKey.read</code></a>‘s ability to decode “openssl ecparam -genkey”  output when linked against <a href="OpenSSL.html"><code>OpenSSL</code></a> 3.0.  <a href="https://github.com/ruby/openssl/pull/535">[GitHub #535]</a>  <a href="https://github.com/ruby/openssl/pull/540">[GitHub #540]</a></p>
</li><li>
<p>Restore error checks in <a href="OpenSSL/PKey/EC.html"><code>OpenSSL::PKey::EC</code></a>#<a href="https://github.com/ruby/openssl/pull/541">to_der,to_pem}.  {[GitHub #541]</a></p>
</li></ul>

<h1 id="label-Version+3.0.0">Version 3.0.0<span><a href="#label-Version+3.0.0">&para;</a> <a href="#top">&uarr;</a></span></h1>

<h2 id="label-Compatibility+notes">Compatibility notes<span><a href="#label-Compatibility+notes">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p><a href="OpenSSL.html"><code>OpenSSL</code></a> 1.0.1 and Ruby 2.3-2.5 are no longer supported.  <a href="https://github.com/ruby/openssl/pull/396">[GitHub #396]</a>  <a href="https://github.com/ruby/openssl/pull/466">[GitHub #466]</a></p>
</li><li>
<p><a href="OpenSSL.html"><code>OpenSSL</code></a> 3.0 support is added. It is the first major version bump from <a href="OpenSSL.html"><code>OpenSSL</code></a>  1.1 and contains incompatible changes that affect Ruby/OpenSSL.  Note that <a href="OpenSSL.html"><code>OpenSSL</code></a> 3.0 support is preliminary and not all features are  currently available:  <a href="https://github.com/ruby/openssl/issues/369">[GitHub #369]</a></p>
</li><li>
<p>Deprecate the ability to modify <code>OpenSSL::PKey::PKey</code> instances. <a href="OpenSSL.html"><code>OpenSSL</code></a> 3.0 made EVP_PKEY structure immutable, and hence the following methods are not available when Ruby/OpenSSL is linked against <a href="OpenSSL.html"><code>OpenSSL</code></a> 3.0. <a href="https://github.com/ruby/openssl/pull/480">[GitHub #480]</a></p>
<ul><li>
<p><code>OpenSSL::PKey::RSA#set_key</code>, <code>#set_factors</code>, <code>#set_crt_params</code></p>
</li><li>
<p><code>OpenSSL::PKey::DSA#set_pqg</code>, <code>#set_key</code></p>
</li><li>
<p><code>OpenSSL::PKey::DH#set_pqg</code>, <code>#set_key</code>, <code>#generate_key!</code></p>
</li><li>
<p><code>OpenSSL::PKey::EC#private_key=</code>, <code>#public_key=</code>, <code>#group=</code>, <code>#generate_key!</code></p>
</li></ul>
</li><li>
<p>Deprecate <code>OpenSSL::Engine</code>. The ENGINE API has been deprecated in <a href="OpenSSL.html"><code>OpenSSL</code></a> 3.0 in favor of the new "provider" concept and will be removed in a future version. <a href="https://github.com/ruby/openssl/pull/481">[GitHub #481]</a></p>
</li><li>
<p><code>OpenSSL::SSL::SSLContext#tmp_ecdh_callback</code> has been removed. It has been  deprecated since v2.0.0 because it is incompatible with modern <a href="OpenSSL.html"><code>OpenSSL</code></a>  versions.  <a href="https://github.com/ruby/openssl/pull/394">[GitHub #394]</a></p>
</li><li>
<p><code>OpenSSL::SSL::SSLSocket#read</code> and <code>#write</code> now raise <code>OpenSSL::SSL::SSLError</code>  if called before a TLS connection is established. Historically, they  read/wrote unencrypted data to the underlying socket directly in that case.  <a href="https://github.com/ruby/openssl/issues/9">[GitHub #9]</a>  <a href="https://github.com/ruby/openssl/pull/469">[GitHub #469]</a></p>
</li></ul>

<h2 id="label-Notable+changes">Notable changes<span><a href="#label-Notable+changes">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p>Enhance <a href="OpenSSL/PKey.html"><code>OpenSSL::PKey</code></a>'s common interface.  <a href="https://github.com/ruby/openssl/issues/370">[GitHub #370]</a></p>
</li><li>
<p>Key deserialization: Enhance <code>OpenSSL::PKey.read</code> to handle PEM encoding of DH parameters, which used to be only deserialized by <code>OpenSSL::PKey::DH.new</code>. <a href="https://github.com/ruby/openssl/issues/328">[GitHub #328]</a></p>
</li><li>
<p>Key generation: Add <code>OpenSSL::PKey.generate_parameters</code> and <code>OpenSSL::PKey.generate_key</code>. <a href="https://github.com/ruby/openssl/issues/329">[GitHub #329]</a></p>
</li><li>
<p>Public key signing: Enhance <code>OpenSSL::PKey::PKey#sign</code> and <code>#verify</code> to use the new EVP_DigestSign() family to enable PureEdDSA support on <a href="OpenSSL.html"><code>OpenSSL</code></a> 1.1.1 or later. They also now take optional algorithm-specific parameters for more control. <a href="https://github.com/ruby/openssl/issues/329">[GitHub #329]</a></p>
</li><li>
<p>Low-level public key signing and verification: Add <code>OpenSSL::PKey::PKey#sign_raw</code>, <code>#verify_raw</code>, and <code>#verify_recover</code>. <a href="https://github.com/ruby/openssl/issues/382">[GitHub #382]</a></p>
</li><li>
<p>Public key encryption: Add <code>OpenSSL::PKey::PKey#encrypt</code> and <code>#decrypt</code>. <a href="https://github.com/ruby/openssl/issues/382">[GitHub #382]</a></p>
</li><li>
<p>Key agreement: Add <code>OpenSSL::PKey::PKey#derive</code>. <a href="https://github.com/ruby/openssl/issues/329">[GitHub #329]</a></p>
</li><li>
<p>Key comparison: Add <code>OpenSSL::PKey::PKey#compare?</code> to conveniently check that two keys have common parameters and a public key. <a href="https://github.com/ruby/openssl/issues/383">[GitHub #383]</a></p>
</li><li>
<p>Add <code>OpenSSL::BN#set_flags</code> and <code>#get_flags</code>. This can be used in combination  with <code>OpenSSL::BN::CONSTTIME</code> to force constant-time computation.  <a href="https://github.com/ruby/openssl/issues/417">[GitHub #417]</a></p>
</li><li>
<p>Add <code>OpenSSL::BN#abs</code> to get the absolute value of the BIGNUM.  <a href="https://github.com/ruby/openssl/issues/430">[GitHub #430]</a></p>
</li><li>
<p>Add <code>OpenSSL::SSL::SSLSocket#getbyte</code>.  <a href="https://github.com/ruby/openssl/issues/438">[GitHub #438]</a></p>
</li><li>
<p>Add <code>OpenSSL::SSL::SSLContext#tmp_dh=</code>.  <a href="https://github.com/ruby/openssl/pull/459">[GitHub #459]</a></p>
</li><li>
<p>Add <code>OpenSSL::X509::Certificate.load</code> to load a PEM-encoded and concatenated  list of X.509 certificates at once.  <a href="https://github.com/ruby/openssl/pull/441">[GitHub #441]</a></p>
</li><li>
<p>Change <code>OpenSSL::X509::Certificate.new</code> to attempt to deserialize the given  string first as DER encoding first and then as PEM encoding to ensure the  round-trip consistency.  <a href="https://github.com/ruby/openssl/pull/442">[GitHub #442]</a></p>
</li><li>
<p>Update various part of the code base to use the modern API. No breaking  changes are intended with this. This includes:</p>
</li><li>
<p><code>OpenSSL::HMAC</code> uses the EVP API. <a href="https://github.com/ruby/openssl/issues/371">[GitHub #371]</a></p>
</li><li>
<p><code>OpenSSL::Config</code> uses native <a href="OpenSSL.html"><code>OpenSSL</code></a> API to parse config files. <a href="https://github.com/ruby/openssl/issues/342">[GitHub #342]</a></p>
</li></ul>

<h1 id="label-Version+2.2.3">Version 2.2.3<span><a href="#label-Version+2.2.3">&para;</a> <a href="#top">&uarr;</a></span></h1>

<h2 id="label-Bug+fixes">Bug fixes<span><a href="#label-Bug+fixes">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p>Fix serveral methods in <a href="OpenSSL/PKey/EC/Point.html"><code>OpenSSL::PKey::EC::Point</code></a> attempting to raise an error  with an incorrect class, which would end up with a TypeError.  <a href="https://github.com/ruby/openssl/pull/570">[GitHub #570]</a></p>
</li><li>
<p>Fix <a href="OpenSSL/PKey/EC/Point.html#method-i-eql-3F"><code>OpenSSL::PKey::EC::Point#eql?</code></a> and <a href="OpenSSL/PKey/EC/Group.html#method-i-eql-3F"><code>OpenSSL::PKey::EC::Group#eql?</code></a>  incorrectly treated OpenSSL’s internal errors as “not equal”.  <a href="https://github.com/ruby/openssl/pull/564">[GitHub #564]</a></p>
</li><li>
<p>Fix build with LibreSSL 3.5 or later.</p>
</li></ul>

<h1 id="label-Version+2.2.2">Version 2.2.2<span><a href="#label-Version+2.2.2">&para;</a> <a href="#top">&uarr;</a></span></h1>

<p>Merged changes in 2.1.4.</p>

<h1 id="label-Version+2.2.1">Version 2.2.1<span><a href="#label-Version+2.2.1">&para;</a> <a href="#top">&uarr;</a></span></h1>

<p>Merged changes in 2.1.3. Additionally, the following issues are fixed by this release.</p>

<h2 id="label-Bug+fixes">Bug fixes<span><a href="#label-Bug+fixes">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p>Fix crash in <code>OpenSSL::Timestamp::{Request,Response,TokenInfo}.new</code> when  invalid arguments are given.  {[GitHub #407]}[https://github.com/ruby/openssl/pull/407]</p>
</li><li>
<p>Fix <code>OpenSSL::Timestamp::Factory#create_timestamp</code> with LibreSSL on platforms  where <code>time_t</code> has a different size from <code>long</code>.  <a href="https://github.com/ruby/openssl/pull/454">[GitHub #454]</a></p>
</li></ul>

<h1 id="label-Version+2.2.0">Version 2.2.0<span><a href="#label-Version+2.2.0">&para;</a> <a href="#top">&uarr;</a></span></h1>

<h2 id="label-Compatibility+notes">Compatibility notes<span><a href="#label-Compatibility+notes">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p>Remove unsupported MDC2, DSS, DSS1, and SHA algorithms.</p>
</li><li>
<p>Remove <code>OpenSSL::PKCS7::SignerInfo#name</code> alias for <code>#issuer</code>.  <a href="https://github.com/ruby/openssl/pull/266">[GitHub #266]</a></p>
</li><li>
<p>Deprecate <code>OpenSSL::Config#add_value</code> and <code>#[]=</code> for future removal.  <a href="https://github.com/ruby/openssl/pull/322">[GitHub #322]</a></p>
</li></ul>

<h2 id="label-Notable+changes">Notable changes<span><a href="#label-Notable+changes">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p>Change default <code>OpenSSL::SSL::SSLServer#listen</code> backlog argument from  5 to <code>Socket::SOMAXCONN</code>.  <a href="https://github.com/ruby/openssl/issues/286">[GitHub #286]</a></p>
</li><li>
<p>Make <code>OpenSSL::HMAC#==</code> use a timing safe string comparison.  <a href="https://github.com/ruby/openssl/pull/284">[GitHub #284]</a></p>
</li><li>
<p>Add support for SHA3 and BLAKE digests.  <a href="https://github.com/ruby/openssl/pull/282">[GitHub #282]</a></p>
</li><li>
<p>Add <code>OpenSSL::SSL::SSLSocket.open</code> for opening a <code>TCPSocket</code> and  returning an <code>OpenSSL::SSL::SSLSocket</code> for it.  <a href="https://github.com/ruby/openssl/issues/225">[GitHub #225]</a></p>
</li><li>
<p>Support marshalling of <code>OpenSSL::X509</code> and <code>OpenSSL::PKey</code> objects.  <a href="https://github.com/ruby/openssl/pull/281">[GitHub #281]</a>  <a href="https://github.com/ruby/openssl/pull/363">[GitHub #363]</a></p>
</li><li>
<p>Add <code>OpenSSL.secure_compare</code> for timing safe string comparison for  strings of possibly unequal length.  <a href="https://github.com/ruby/openssl/pull/280">[GitHub #280]</a></p>
</li><li>
<p>Add <code>OpenSSL.fixed_length_secure_compare</code> for timing safe string  comparison for strings of equal length.  <a href="https://github.com/ruby/openssl/pull/269">[GitHub #269]</a></p>
</li><li>
<p>Add <code>OpenSSL::SSL::SSLSocket#{finished_message,peer_finished_message}</code>  for last finished message sent and received.  {[GitHub #250]}[https://github.com/ruby/openssl/pull/250]</p>
</li><li>
<p>Add <code>OpenSSL::Timestamp</code> module for handing timestamp requests and  responses.  <a href="https://github.com/ruby/openssl/pull/204">[GitHub #204]</a></p>
</li><li>
<p>Add helper methods for <code>OpenSSL::X509::Certificate</code>:  <code>find_extension</code>, <code>subject_key_identifier</code>,  <code>authority_key_identifier</code>, <code>crl_uris</code>, <code>ca_issuer_uris</code> and  <code>ocsp_uris</code>, and for <code>OpenSSL::X509::CRL</code>:  <code>find_extension</code> and <code>subject_key_identifier</code>.  <a href="https://github.com/ruby/openssl/pull/260">[GitHub #260]</a>  <a href="https://github.com/ruby/openssl/pull/275">[GitHub #275]</a>  <a href="https://github.com/ruby/openssl/pull/293">[GitHub #293]</a></p>
</li><li>
<p>Add <code>OpenSSL::ECPoint#add</code> for performing elliptic curve point addition.  <a href="https://github.com/ruby/openssl/pull/261">[GitHub #261]</a></p>
</li><li>
<p>Make <code>OpenSSL::PKey::RSA#{export,to_der}</code> check <code>key</code>, <code>factors</code>, and  <code>crt_params</code> to do proper private key serialization.  {[GitHub #258]}[https://github.com/ruby/openssl/pull/258]</p>
</li><li>
<p>Add <code>OpenSSL::SSL::{SSLSocket,SSLServer}#fileno</code>, returning the  underlying socket file descriptor number.  {[GitHub #247]}[https://github.com/ruby/openssl/pull/247]</p>
</li><li>
<p>Support client certificates with TLS 1.3, and support post-handshake  authentication with <a href="OpenSSL.html"><code>OpenSSL</code></a> 1.1.1+.  <a href="https://github.com/ruby/openssl/pull/239">[GitHub #239]</a></p>
</li><li>
<p>Add <code>OpenSSL::ASN1::ObjectId#==</code> for equality testing.</p>
</li><li>
<p>Add <code>OpenSSL::X509::Extension#value_der</code> for the raw value of  the extension.  <a href="https://github.com/ruby/openssl/pull/234">[GitHub #234]</a></p>
</li><li>
<p>Significantly reduce allocated memory in <code>OpenSSL::Buffering#do_write</code>.  <a href="https://github.com/ruby/openssl/pull/212">[GitHub #212]</a></p>
</li><li>
<p>Ensure all valid IPv6 addresses are considered valid as elements  of subjectAlternativeName in certificates.  <a href="https://github.com/ruby/openssl/pull/185">[GitHub #185]</a></p>
</li><li>
<p>Allow recipient’s certificate to be omitted in PCKS7#decrypt.  <a href="https://github.com/ruby/openssl/pull/183">[GitHub #183]</a></p>
</li><li>
<p>Add support for reading keys in PKCS #8 format and export via instance methods  added to <code>OpenSSL::PKey</code> classes: <code>private_to_der</code>, <code>private_to_pem</code>,  <code>public_to_der</code> and <code>public_to_pem</code>.  <a href="https://github.com/ruby/openssl/pull/297">[GitHub #297]</a></p>
</li></ul>

<h1 id="label-Version+2.1.4">Version 2.1.4<span><a href="#label-Version+2.1.4">&para;</a> <a href="#top">&uarr;</a></span></h1>

<h2 id="label-Bug+fixes">Bug fixes<span><a href="#label-Bug+fixes">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p>Do not use pkg-config if –with-openssl-dir option is specified.  <a href="https://github.com/ruby/openssl/pull/486">[GitHub #486]</a></p>
</li></ul>

<h1 id="label-Version+2.1.3">Version 2.1.3<span><a href="#label-Version+2.1.3">&para;</a> <a href="#top">&uarr;</a></span></h1>

<h2 id="label-Bug+fixes">Bug fixes<span><a href="#label-Bug+fixes">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p>Fix deprecation warnings on Ruby 3.0.</p>
</li><li>
<p>Add “.include” directive support in <code>OpenSSL::Config</code>.  <a href="https://github.com/ruby/openssl/pull/216">[GitHub #216]</a></p>
</li><li>
<p>Fix handling of IPv6 address SANs.  <a href="https://github.com/ruby/openssl/pull/185">[GitHub #185]</a></p>
</li><li>
<p>Hostname verification failure with <code>OpenSSL::SSL::SSLContext#verify_hostname=</code>  sets a proper error code.  <a href="https://github.com/ruby/openssl/pull/350">[GitHub #350]</a></p>
</li><li>
<p>Fix crash with <code>OpenSSL::BN.new(nil, 2)</code>.  <a href="https://bugs.ruby-lang.org/issues/15760">[Bug #15760]</a></p>
</li><li>
<p><code>OpenSSL::SSL::SSLSocket#sys{read,write}</code> prevent internal string buffers from  being modified by another thread.  {[GitHub #453]}[https://github.com/ruby/openssl/pull/453]</p>
</li><li>
<p>Fix misuse of input record separator in <code>OpenSSL::Buffering</code> where it was  for output.</p>
</li><li>
<p>Fix wrong integer casting in <code>OpenSSL::PKey::EC#dsa_verify_asn1</code>.  <a href="https://github.com/ruby/openssl/pull/460">[GitHub #460]</a></p>
</li><li>
<p><code>extconf.rb</code> explicitly checks that OpenSSL’s version number is 1.0.1 or  newer but also less than 3.0. Ruby/OpenSSL v2.1.x and v2.2.x will not support  <a href="OpenSSL.html"><code>OpenSSL</code></a> 3.0 API.  <a href="https://github.com/ruby/openssl/pull/458">[GitHub #458]</a></p>
</li><li>
<p>Activate <code>digest</code> gem correctly. <code>digest</code> library could go into an  inconsistent state if there are multiple versions of <code>digest</code> is installed  and <code>openssl</code> is <code>require</code>d before <code>digest</code>.  <a href="https://github.com/ruby/openssl/pull/463">[GitHub #463]</a></p>
</li><li>
<p>Fix GC.compact compatibility.  <a href="https://github.com/ruby/openssl/issues/464">[GitHub #464]</a>  <a href="https://github.com/ruby/openssl/pull/465">[GitHub #465]</a></p>
</li></ul>

<h1 id="label-Version+2.1.2">Version 2.1.2<span><a href="#label-Version+2.1.2">&para;</a> <a href="#top">&uarr;</a></span></h1>

<p>Merged changes in 2.0.9.</p>

<h1 id="label-Version+2.1.1">Version 2.1.1<span><a href="#label-Version+2.1.1">&para;</a> <a href="#top">&uarr;</a></span></h1>

<p>Merged changes in 2.0.8.</p>

<h1 id="label-Version+2.1.0">Version 2.1.0<span><a href="#label-Version+2.1.0">&para;</a> <a href="#top">&uarr;</a></span></h1>

<h2 id="label-Notable+changes">Notable changes<span><a href="#label-Notable+changes">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p>Support for <a href="OpenSSL.html"><code>OpenSSL</code></a> versions before 1.0.1 and LibreSSL versions before 2.5  is removed.  <a href="https://github.com/ruby/openssl/pull/86">[GitHub #86]</a></p>
</li><li>
<p><a href="OpenSSL/BN.html#method-i-negative-3F"><code>OpenSSL::BN#negative?</code></a>, +@, and -@ are added.</p>
</li><li>
<p><a href="OpenSSL/SSL/SSLSocket.html#method-i-connect"><code>OpenSSL::SSL::SSLSocket#connect</code></a> raises a more informative exception when  certificate verification fails.  <a href="https://github.com/ruby/openssl/pull/99">[GitHub #99]</a></p>
</li><li>
<p><a href="OpenSSL/KDF.html"><code>OpenSSL::KDF</code></a> module is newly added. In addition to PBKDF2-HMAC that has moved  from <a href="OpenSSL/PKCS5.html"><code>OpenSSL::PKCS5</code></a>, scrypt and HKDF are supported.  <a href="https://github.com/ruby/openssl/pull/109">[GitHub #109]</a>  <a href="https://github.com/ruby/openssl/pull/173">[GitHub #173]</a></p>
</li><li>
<p><a href="OpenSSL.html#method-c-fips_mode"><code>OpenSSL.fips_mode</code></a> is added. We had the setter, but not the getter.  <a href="https://github.com/ruby/openssl/pull/125">[GitHub #125]</a></p>
</li><li>
<p><a href="OpenSSL/OCSP/Request.html#method-i-signed-3F"><code>OpenSSL::OCSP::Request#signed?</code></a> is added.</p>
</li><li>
<p><a href="OpenSSL/ASN1.html"><code>OpenSSL::ASN1</code></a> handles the indefinite length form better. <a href="OpenSSL/ASN1.html#method-c-decode"><code>OpenSSL::ASN1.decode</code></a>  no longer wrongly treats the end-of-contents octets as part of the content.  <a href="OpenSSL/ASN1/ASN1Data.html#attribute-i-infinite_length"><code>OpenSSL::ASN1::ASN1Data#infinite_length</code></a> is renamed to indefinite_length.  <a href="https://github.com/ruby/openssl/pull/98">[GitHub #98]</a></p>
</li><li>
<p><a href="OpenSSL/X509/Name.html#method-i-add_entry"><code>OpenSSL::X509::Name#add_entry</code></a> now accepts two additional keyword arguments  ‘loc’ and ‘set’.  <a href="https://github.com/ruby/openssl/issues/94">[GitHub #94]</a></p>
</li><li>
<p><a href="OpenSSL/SSL/SSLContext.html#method-i-min_version-3D"><code>OpenSSL::SSL::SSLContext#min_version=</code></a> and max_version= are added to replace  ssl_version= that was built on top of the deprecated <a href="OpenSSL.html"><code>OpenSSL</code></a> C API. Use of  that method and the constant OpenSSL::SSL::SSLContext::METHODS is now  deprecated.  <a href="https://github.com/ruby/openssl/pull/142">[GitHub #142]</a></p>
</li><li>
<p><a href="OpenSSL/X509/Name.html#method-i-to_utf8"><code>OpenSSL::X509::Name#to_utf8</code></a> is added.  <a href="https://github.com/ruby/openssl/issues/26">[GitHub #26]</a>  <a href="https://github.com/ruby/openssl/pull/143">[GitHub #143]</a></p>
</li><li>
<p><a href="OpenSSL/X509.html"><code>OpenSSL::X509</code></a>::<a href="https://github.com/ruby/openssl/pull/161">Extension,Attribute,Certificate,CRL,Revoked,Request} can be  compared with == operator.  {[GitHub #161]</a></p>
</li><li>
<p>TLS Fallback Signaling Cipher Suite Value (SCSV) support is added.  <a href="https://github.com/ruby/openssl/pull/165">[GitHub #165]</a></p>
</li><li>
<p>Build failure with <a href="OpenSSL.html"><code>OpenSSL</code></a> 1.1 built with no-deprecated is fixed.  <a href="https://github.com/ruby/openssl/pull/160">[GitHub #160]</a></p>
</li><li>
<p><a href="OpenSSL/Buffering.html#method-i-write"><code>OpenSSL::Buffering#write</code></a> accepts an arbitrary number of arguments.  <a href="https://bugs.ruby-lang.org/issues/9323">[Feature #9323]</a>  <a href="https://github.com/ruby/openssl/pull/162">[GitHub #162]</a></p>
</li><li>
<p><a href="OpenSSL/PKey/RSA.html#method-i-sign_pss"><code>OpenSSL::PKey::RSA#sign_pss</code></a> and verify_pss are added. They perform RSA-PSS  signature and verification.  <a href="https://github.com/ruby/openssl/issues/75">[GitHub #75]</a>  <a href="https://github.com/ruby/openssl/pull/76">[GitHub #76]</a>  <a href="https://github.com/ruby/openssl/pull/169">[GitHub #169]</a></p>
</li><li>
<p><a href="OpenSSL/SSL/SSLContext.html#method-i-add_certificate"><code>OpenSSL::SSL::SSLContext#add_certificate</code></a> is added.  <a href="https://github.com/ruby/openssl/pull/167">[GitHub #167]</a></p>
</li><li>
<p><a href="OpenSSL/PKey/EC/Point.html#method-i-to_octet_string"><code>OpenSSL::PKey::EC::Point#to_octet_string</code></a> is added.  <a href="OpenSSL/PKey/EC/Point.html#method-c-new"><code>OpenSSL::PKey::EC::Point.new</code></a> can now take String as the second argument.  <a href="https://github.com/ruby/openssl/pull/177">[GitHub #177]</a></p>
</li></ul>

<h1 id="label-Version+2.0.9">Version 2.0.9<span><a href="#label-Version+2.0.9">&para;</a> <a href="#top">&uarr;</a></span></h1>

<h2 id="label-Security+fixes">Security fixes<span><a href="#label-Security+fixes">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p><a href="OpenSSL/X509/Name.html#method-i-3C-3D-3E"><code>OpenSSL::X509::Name#&lt;=&gt;</code></a> could incorrectly return 0 (= equal) for non-equal  objects. CVE-2018-16395 is assigned for this issue.  <a href="https://hackerone.com/reports/387250">hackerone.com/reports/387250</a></p>
</li></ul>

<h2 id="label-Bug+fixes">Bug fixes<span><a href="#label-Bug+fixes">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p>Fixed OpenSSL::PKey::*.<a href="https://bugs.ruby-lang.org/issues/14882">new,generate} immediately aborting if the thread is  interrupted.  {[Bug #14882]</a>  <a href="https://github.com/ruby/openssl/pull/205">[GitHub #205]</a></p>
</li><li>
<p>Fixed <a href="OpenSSL/X509/Name.html#method-i-to_s"><code>OpenSSL::X509::Name#to_s</code></a> failing with <a href="OpenSSL/X509/NameError.html"><code>OpenSSL::X509::NameError</code></a> if  called against an empty instance.  <a href="https://github.com/ruby/openssl/issues/200">[GitHub #200]</a>  <a href="https://github.com/ruby/openssl/pull/211">[GitHub #211]</a></p>
</li></ul>

<h1 id="label-Version+2.0.8">Version 2.0.8<span><a href="#label-Version+2.0.8">&para;</a> <a href="#top">&uarr;</a></span></h1>

<h2 id="label-Bug+fixes">Bug fixes<span><a href="#label-Bug+fixes">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p><a href="OpenSSL/Cipher.html#method-i-pkcs5_keyivgen"><code>OpenSSL::Cipher#pkcs5_keyivgen</code></a> raises an error when a negative iteration  count is given.  <a href="https://github.com/ruby/openssl/pull/184">[GitHub #184]</a></p>
</li><li>
<p>Fixed build with LibreSSL 2.7.  <a href="https://github.com/ruby/openssl/issues/192">[GitHub #192]</a>  <a href="https://github.com/ruby/openssl/pull/193">[GitHub #193]</a></p>
</li></ul>

<h1 id="label-Version+2.0.7">Version 2.0.7<span><a href="#label-Version+2.0.7">&para;</a> <a href="#top">&uarr;</a></span></h1>

<h2 id="label-Bug+fixes">Bug fixes<span><a href="#label-Bug+fixes">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p><a href="OpenSSL/Cipher.html#method-i-auth_data-3D"><code>OpenSSL::Cipher#auth_data=</code></a> could segfault if called against a non-AEAD cipher.  <a href="https://bugs.ruby-lang.org/issues/14024">[Bug #14024]</a></p>
</li><li>
<p><a href="OpenSSL/X509/Certificate.html#method-i-public_key-3D"><code>OpenSSL::X509::Certificate#public_key=</code></a> (and similar methods) could segfault  when an instance of <a href="OpenSSL/PKey/PKey.html"><code>OpenSSL::PKey::PKey</code></a> with no public key components is  passed.  <a href="https://bugs.ruby-lang.org/issues/14087">[Bug #14087]</a>  <a href="https://github.com/ruby/openssl/pull/168">[GitHub #168]</a></p>
</li></ul>

<h1 id="label-Version+2.0.6">Version 2.0.6<span><a href="#label-Version+2.0.6">&para;</a> <a href="#top">&uarr;</a></span></h1>

<h2 id="label-Bug+fixes">Bug fixes<span><a href="#label-Bug+fixes">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p>The session_remove_cb set to an <a href="OpenSSL/SSL/SSLContext.html"><code>OpenSSL::SSL::SSLContext</code></a> is no longer called  during GC.</p>
</li><li>
<p>A possible deadlock in <a href="OpenSSL/SSL/SSLSocket.html#method-i-sysread"><code>OpenSSL::SSL::SSLSocket#sysread</code></a> is fixed.  <a href="https://github.com/ruby/openssl/pull/139">[GitHub #139]</a></p>
</li><li>
<p><a href="OpenSSL/BN.html#method-i-hash"><code>OpenSSL::BN#hash</code></a> could return an unnormalized fixnum value on Windows.  <a href="https://bugs.ruby-lang.org/issues/13877">[Bug #13877]</a></p>
</li><li>
<p><a href="OpenSSL/SSL/SSLSocket.html#method-i-sysread"><code>OpenSSL::SSL::SSLSocket#sysread</code></a> and sysread_nonblock set the length of the  destination buffer String to 0 on error.  <a href="https://github.com/ruby/openssl/pull/153">[GitHub #153]</a></p>
</li><li>
<p>Possible deadlock is fixed. This happened only when built with older versions  of <a href="OpenSSL.html"><code>OpenSSL</code></a> (before 1.1.0) or LibreSSL.  <a href="https://github.com/ruby/openssl/pull/155">[GitHub #155]</a></p>
</li></ul>

<h1 id="label-Version+2.0.5">Version 2.0.5<span><a href="#label-Version+2.0.5">&para;</a> <a href="#top">&uarr;</a></span></h1>

<h2 id="label-Bug+fixes">Bug fixes<span><a href="#label-Bug+fixes">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p>Reading a PEM/DER-encoded private key or certificate from an <a href="IO.html"><code>IO</code></a> object did  not work properly on mswin platforms.  <a href="https://github.com/ruby/openssl/issues/128">[ruby/openssl#128]</a></p>
</li><li>
<p>Broken length check in the PEM passphrase callback is fixed.</p>
</li><li>
<p>It failed to compile when <a href="OpenSSL.html"><code>OpenSSL</code></a> is configured without TLS 1.0 support.</p>
</li></ul>

<h1 id="label-Version+2.0.4">Version 2.0.4<span><a href="#label-Version+2.0.4">&para;</a> <a href="#top">&uarr;</a></span></h1>

<h2 id="label-Bug+fixes">Bug fixes<span><a href="#label-Bug+fixes">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p>It now compiles with LibreSSL without renaming on Windows (mswin).</p>
</li><li>
<p>A workaround for the error queue leak of X509_load_cert_crl_file() that  causes random errors is added.  <a href="https://bugs.ruby-lang.org/issues/11033">[Bug #11033]</a></p>
</li></ul>

<h1 id="label-Version+2.0.3">Version 2.0.3<span><a href="#label-Version+2.0.3">&para;</a> <a href="#top">&uarr;</a></span></h1>

<h2 id="label-Bug+fixes">Bug fixes<span><a href="#label-Bug+fixes">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p><a href="OpenSSL/ASN1/Constructive.html#method-i-each"><code>OpenSSL::ASN1::Constructive#each</code></a> which was broken by 2.0.0 is fixed.  <a href="https://github.com/ruby/openssl/pull/96">[ruby/openssl#96]</a></p>
</li><li>
<p>Fixed build with static <a href="OpenSSL.html"><code>OpenSSL</code></a> libraries on Windows.  <a href="https://bugs.ruby-lang.org/issues/13080">[Bug #13080]</a></p>
</li><li>
<p><a href="OpenSSL/X509/Name.html#method-i-eql-3F"><code>OpenSSL::X509::Name#eql?</code></a> which was broken by 2.0.0 is fixed.</p>
</li></ul>

<h1 id="label-Version+2.0.2">Version 2.0.2<span><a href="#label-Version+2.0.2">&para;</a> <a href="#top">&uarr;</a></span></h1>

<h2 id="label-Bug+fixes">Bug fixes<span><a href="#label-Bug+fixes">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p>Fix build with early 0.9.8 series which did not have SSL_CTX_clear_options().  [ruby-core:78693]</p>
</li></ul>

<h1 id="label-Version+2.0.1">Version 2.0.1<span><a href="#label-Version+2.0.1">&para;</a> <a href="#top">&uarr;</a></span></h1>

<h2 id="label-Bug+fixes">Bug fixes<span><a href="#label-Bug+fixes">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p>A GC issue around <a href="OpenSSL/BN.html"><code>OpenSSL::BN</code></a> is fixed.  <a href="https://github.com/ruby/openssl/issues/87">[ruby/openssl#87]</a></p>
</li><li>
<p><a href="OpenSSL/ASN1.html"><code>OpenSSL::ASN1</code></a> now parses BER encoding of GeneralizedTime without seconds.  <a href="https://github.com/ruby/openssl/pull/88">[ruby/openssl#88]</a></p>
</li></ul>

<h1 id="label-Version+2.0.0">Version 2.0.0<span><a href="#label-Version+2.0.0">&para;</a> <a href="#top">&uarr;</a></span></h1>

<p>This is the first release of openssl gem, formerly a standard library of Ruby, ext/openssl. This is the successor of the version included in Ruby 2.3.</p>

<h2 id="label-Compatibility+notes">Compatibility notes<span><a href="#label-Compatibility+notes">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p>Support for <a href="OpenSSL.html"><code>OpenSSL</code></a> version 0.9.6 and 0.9.7 is completely removed. openssl gem  still works with <a href="OpenSSL.html"><code>OpenSSL</code></a> 0.9.8, but users are strongly encouraged to upgrade  to at least 1.0.1, as <a href="OpenSSL.html"><code>OpenSSL</code></a> &lt; 1.0.1 will not receive any security fixes from  the <a href="OpenSSL.html"><code>OpenSSL</code></a> development team.</p>
</li></ul>

<h2 id="label-Supported+platforms">Supported platforms<span><a href="#label-Supported+platforms">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p><a href="OpenSSL.html"><code>OpenSSL</code></a> 1.0.0, 1.0.1, 1.0.2, 1.1.0</p>
</li><li>
<p><a href="OpenSSL.html"><code>OpenSSL</code></a> &lt; 0.9.8 is no longer supported.</p>
</li><li>
<p>LibreSSL 2.3, 2.4, 2.5</p>
</li><li>
<p>Ruby 2.3, 2.4</p>
</li></ul>

<h2 id="label-Notable+changes">Notable changes<span><a href="#label-Notable+changes">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p>Add support for <a href="OpenSSL.html"><code>OpenSSL</code></a> 1.1.0.  <a href="https://bugs.ruby-lang.org/issues/12324">[Feature #12324]</a></p>
</li><li>
<p>Add support for LibreSSL</p>
</li><li>
<p><a href="OpenSSL/Cipher.html"><code>OpenSSL::Cipher</code></a></p>
</li><li>
<p><a href="OpenSSL/Cipher.html#method-i-key-3D"><code>OpenSSL::Cipher#key=</code></a> and iv= reject too long inputs. They used to truncate silently. <a href="https://bugs.ruby-lang.org/issues/12561">[Bug #12561]</a></p>
</li><li>
<p><a href="OpenSSL/Cipher.html#method-i-iv_len-3D"><code>OpenSSL::Cipher#iv_len=</code></a> is added. It allows changing IV (nonce) length if using AEAD ciphers. <a href="https://bugs.ruby-lang.org/issues/8667">[Bug #8667]</a>, <a href="https://bugs.ruby-lang.org/issues/10420">[Bug #10420]</a>, <a href="https://github.com/ruby/ruby/pull/569">[GH ruby/ruby#569]</a>, <a href="https://github.com/ruby/openssl/pull/58">[GH ruby/openssl#58]</a></p>
</li><li>
<p><a href="OpenSSL/Cipher.html#method-i-auth_tag_len-3D"><code>OpenSSL::Cipher#auth_tag_len=</code></a> is added. This sets the authentication tag length to be generated by an AEAD cipher.</p>
</li><li>
<p><a href="OpenSSL/OCSP.html"><code>OpenSSL::OCSP</code></a></p>
</li><li>
<p>Accessor methods are added to <a href="OpenSSL/OCSP/CertificateId.html"><code>OpenSSL::OCSP::CertificateId</code></a>. <a href="https://bugs.ruby-lang.org/issues/7181">[Feature #7181]</a></p>
</li><li>
<p><a href="OpenSSL/OCSP/Request.html"><code>OpenSSL::OCSP::Request</code></a> and BasicResponse can be signed with non-SHA-1 hash algorithm. <a href="https://bugs.ruby-lang.org/issues/11552">[Feature #11552]</a></p>
</li><li>
<p><a href="OpenSSL/OCSP/CertificateId.html"><code>OpenSSL::OCSP::CertificateId</code></a> and BasicResponse can be encoded into DER.</p>
</li><li>
<p>A new class <a href="OpenSSL/OCSP/SingleResponse.html"><code>OpenSSL::OCSP::SingleResponse</code></a> is added for convenience.</p>
</li><li>
<p><a href="OpenSSL/OCSP/BasicResponse.html#method-i-add_status"><code>OpenSSL::OCSP::BasicResponse#add_status</code></a> accepts absolute times. They used to accept only relative seconds from the current time.</p>
</li><li>
<p><a href="OpenSSL/PKey.html"><code>OpenSSL::PKey</code></a></p>
</li><li>
<p><a href="OpenSSL/PKey/EC.html"><code>OpenSSL::PKey::EC</code></a> follows the general PKey interface. <a href="https://bugs.ruby-lang.org/issues/6567">[Bug #6567]</a></p>
</li><li>
<p><a href="OpenSSL/PKey.html#method-c-read"><code>OpenSSL::PKey.read</code></a> raises <a href="OpenSSL/PKey/PKeyError.html"><code>OpenSSL::PKey::PKeyError</code></a> instead of ArgumentError for consistency with <a href="OpenSSL/PKey.html"><code>OpenSSL::PKey</code></a>::<a href="https://bugs.ruby-lang.org/issues/11774">DH,DSA,RSA,EC}#new. {[Bug #11774]</a>, <a href="https://github.com/ruby/openssl/pull/55">[GH ruby/openssl#55]</a></p>
</li><li>
<p><a href="OpenSSL/PKey/EC/Group.html"><code>OpenSSL::PKey::EC::Group</code></a> retrieved by <a href="OpenSSL/PKey/EC.html#method-i-group"><code>OpenSSL::PKey::EC#group</code></a> is no longer linked with the EC key. Modifications to the EC::Group have no effect on the key. <a href="https://github.com/ruby/openssl/pull/71">[GH ruby/openssl#71]</a></p>
</li><li>
<p><a href="OpenSSL/PKey/EC/Point.html#method-i-to_bn"><code>OpenSSL::PKey::EC::Point#to_bn</code></a> allows specifying the point conversion form by the optional argument.</p>
</li><li>
<p><a href="OpenSSL/SSL.html"><code>OpenSSL::SSL</code></a></p>
</li><li>
<p><a href="OpenSSL/SSL/SSLSocket.html#method-i-tmp_key"><code>OpenSSL::SSL::SSLSocket#tmp_key</code></a> is added. A client can call it after the connection is established to retrieve the ephemeral key. <a href="https://github.com/ruby/ruby/pull/1318">[GH ruby/ruby#1318]</a></p>
</li><li>
<p>The automatic ephemeral ECDH curve selection is enabled by default when built with <a href="OpenSSL.html"><code>OpenSSL</code></a> &gt;= 1.0.2 or LibreSSL.</p>
</li><li>
<p><a href="OpenSSL/SSL/SSLContext.html#method-i-security_level-3D"><code>OpenSSL::SSL::SSLContext#security_level=</code></a> is added. You can set the “security level” of the SSL context. This is effective only when built with <a href="OpenSSL.html"><code>OpenSSL</code></a> 1.1.0.</p>
</li><li>
<p>A new option ‘verify_hostname’ is added to <a href="OpenSSL/SSL/SSLContext.html"><code>OpenSSL::SSL::SSLContext</code></a>. When it is enabled, and the SNI hostname is also set, the hostname verification on the server certificate is automatically performed. It is now enabled by <a href="OpenSSL/SSL/SSLContext.html#method-i-set_params"><code>OpenSSL::SSL::SSLContext#set_params</code></a>. <a href="https://github.com/ruby/openssl/pull/60">[GH ruby/openssl#60]</a></p>
</li></ul>

<h2 id="label-Removals">Removals<span><a href="#label-Removals">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p><a href="OpenSSL/Engine.html"><code>OpenSSL::Engine</code></a></p>
</li><li>
<p><a href="OpenSSL/Engine.html#method-c-cleanup"><code>OpenSSL::Engine.cleanup</code></a> does nothing when built with <a href="OpenSSL.html"><code>OpenSSL</code></a> 1.1.0.</p>
</li><li>
<p><a href="OpenSSL/SSL.html"><code>OpenSSL::SSL</code></a></p>
</li><li>
<p>OpenSSL::PKey::DH::DEFAULT_512 is removed. Hence servers no longer use 512-bit DH group by default. It is considered too weak nowadays. <a href="https://bugs.ruby-lang.org/issues/11968">[Bug #11968]</a>, <a href="https://github.com/ruby/ruby/pull/1196">[GH ruby/ruby#1196]</a></p>
</li><li>
<p>RC4 cipher suites are removed from OpenSSL::SSL::SSLContext::DEFAULT_PARAMS. RC4 is now considered to be weak. <a href="https://github.com/ruby/openssl/pull/50">[GH ruby/openssl#50]</a></p>
</li></ul>

<h2 id="label-Deprecations">Deprecations<span><a href="#label-Deprecations">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p><a href="OpenSSL/PKey.html"><code>OpenSSL::PKey</code></a></p>
</li><li>
<p>OpenSSL::PKey::RSA#n=, e=, d=, p=, q=, dmp1=, dmq1=, iqmp=, OpenSSL::PKey::DSA#p=, q=, g=, priv_key=, pub_key=, OpenSSL::PKey::DH#p=, g=, priv_key= and pub_key= are deprecated. They are disabled when built with <a href="OpenSSL.html"><code>OpenSSL</code></a> 1.1.0, due to its API change. Instead, <a href="OpenSSL/PKey/RSA.html#method-i-set_key"><code>OpenSSL::PKey::RSA#set_key</code></a>, set_factors, set_crt_params, <a href="OpenSSL/PKey/DSA.html#method-i-set_pqg"><code>OpenSSL::PKey::DSA#set_pqg</code></a>, set_key, <a href="OpenSSL/PKey/DH.html#method-i-set_pqg"><code>OpenSSL::PKey::DH#set_pqg</code></a> and set_key are added.</p>
</li><li>
<p><a href="OpenSSL/Random.html"><code>OpenSSL::Random</code></a></p>
</li><li>
<p>OpenSSL::Random.pseudo_bytes is deprecated, and not defined when built with <a href="OpenSSL.html"><code>OpenSSL</code></a> 1.1.0. Use <a href="OpenSSL/Random.html#method-c-random_bytes"><code>OpenSSL::Random.random_bytes</code></a> instead.</p>
</li><li>
<p><a href="OpenSSL/SSL.html"><code>OpenSSL::SSL</code></a></p>
</li><li>
<p>OpenSSL::SSL::SSLContext#tmp_ecdh_callback is deprecated, as the underlying API SSL_CTX_set_tmp_ecdh_callback() is removed in <a href="OpenSSL.html"><code>OpenSSL</code></a> 1.1.0. It was first added in Ruby 2.3.0. To specify the curve to be used in ephemeral ECDH, use <a href="OpenSSL/SSL/SSLContext.html#method-i-ecdh_curves-3D"><code>OpenSSL::SSL::SSLContext#ecdh_curves=</code></a>. The automatic curve selection is also now enabled by default when built with a capable <a href="OpenSSL.html"><code>OpenSSL</code></a>.</p>
</li></ul>

</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.5.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

